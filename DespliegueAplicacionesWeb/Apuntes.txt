Libro: Despligue de Aplicaciones de Sintesis, portada roja

+Apuntes -> https://linube.com/ayuda/articulo/193/tipos-de-registro-dns

EXAMEN 
------
Entra hasta donde lleguemos el dia de antes del examen.
Las preguntas pueden ser de entender: 
Pj: Nos pone una definicion (no del libro, sino una equivalencia). y poner verdadero o falso, o decir cuales son las validas, o de rellenar el gap.
O de multimarca (varias opciones validas).
Ejemplo pregunta: Lista a un lado titulos, lista a un lado definiciones.
Otro ejemplo: direccion basica localhost (y tendremos que poner los numeros)
Tambien podran entrar cosas que se hayan dicho en clase (que haya desarrollado ella un poco mas, de los enlaces por ejemplo)

El examen consta de unas 33 preguntas.

Preguntas archivos DNS, posiblidad de que sea relacional
1 pregunta de cada powerpoint (de los que presentaron)

Sintaxis LDIF Examen:

Podría poner una sintaxis y pregunta ¿esto está bien?.
Ejemplo: Poner OU al principio -> No estaría bien, primero va el dn. 
O poner la sintaxis y preguntar donde esta el fallo.


------

Apuntes
------
1.1 Introduccion
------
IP
------
Es el nombre propio del host. Lo que utilizamos para reconocernos en la red. 4 grupos de numeros que identifican los host

Host
-------
Cada una de las partes que se conectan a la red. Ej: impresora, cascos...

1.2 Sistema de nombre de dominio
------

Niveles de dominio
------
1er nivel: Los que acaban en .com,.gob,.org..etc
2do nivel: Los referentes a un pais (.es España, .uk Reino Unido..)
3er nivel: Corresponden al tipo .com.es, org.es,gob.es.. etc

1.3 Zonas de busqueda tipos de servidores DNS y registros
------

Busqueda directa e inversa
------
Busqueda directa: Busca por nombre AMAZON.COM y se traduce a IP.
Busqueda inversa: Buscar por IP, y que se traduzca a nombre AMAZON.COM (Lo lleva el PTR)

1.3.1 Tipos de servidores
------
    -Servidores primarios o maestro: Lectura y escritura. Tiene autoridad sobre zona.
    -Servidores secundarios o esclavos: Copia del maestro. Actua cuando el maestro no responde.
    -Serviores locales o cache: Mejoran los tiempos de respuesta. Guardan consultas que ya se han hecho en el maestro

Que es un servidor maestro y esclavo
-------
Es el mismo servidor pero la diferencia es que el esclavo no funciona hasta que necesite ayuda el maestro. Es decir, uno es adaptable y otro copia.

1.3.2 Registros DNS
------
DNS
------
Sistema de Nombres de Dominio (Domain Name System). Traduce nombres de url (ej: amazon.com) a direccion IP.

Tipos de registro (Tipos archivos)
-------
A -> Traduce nombres de dominio a direcciones IP. Ej amazon.com > XXXX.XXXX.XXXX
PRT -> Traduce direcciones IP a nombres de dominio. Ej 123.111.234.222 > amazon.com
MX -> Asocia un nombre de dominio a un servidor de correo. A menor numero mayor preferencia.
CNAME -> Alias que se asigna a un host que tiene una direccion IP. No se asocia a un nombre, sino a un dominio Ej. Alias.new.com CNAME nombre.new.com.
NS -> Define los servidores principales de un dominio (debe haber 1 al menos)
SOA -> Primer registro de la zona. Solo puede haber 1 configurado. Pieza clave del archivo de zona.
TXT -> Ofrece informacion adicional a un dominio
SPF -> Se utiliza para evitar suplantacion de identidad

1.4 Funcionamiento DNS
------

Ventajas de usar DNS
------
    -No hay duplicidad
    -Desaparece la carga excesiva en la red y en los host. BBDD distribuida y jerarquica
    -Coherencia de la información

etc/host -> Identificar una IP, para no buscarla e ir directamente.

Tipos de consultas (No va a preguntar)
-----
Consulta recursiva -> Busca hasta encontrarlo. Primero en el PC, luego en el .es (2do nivel), y luego en el .com (1er nivel).
Consulta iterativa -> Responde de forma parcial.
Consulta inversa -> Hacer una consulta con ping, 
    -Con nombre, devuelve ip.
    -Con ip, no devuelve el nombre (amazon.es).

1.5 Instalacion y configuracion servicio DNS 
------
Comandos para tratar IP
------
ifconfig -> muestra y modifica la configuracion de la red
ifconfig eth0 -> visualiza la configuracion de la interfaz eth0
ifconfig eth0 down/up -> activa o desactiva la interfaz eth0
ifconfig eth0 add XXXX.XXXX.XXXX.XXXX -> configura la ip de la interfaz eth0
ifconfig eth0 mask 255.255.255.0 -> configura la mascara de la interfaz eth0
ifconfig eth0 promisc -> activa modo promiscuo (sniffer) de la interfaz eth0
ifconfig eth0 -promisc -> desactiva modo promiscuo (sniffer) de la interfaz eth0
ifconfig eth0 hw ether xx:xx:xx:xx:xx:xx -> cambia la mac de la interfaz eth0


Acerca de bind9
------
service bind9 status/start/stop/restart -> Comprobar que el servicio DNS se a instalado correctamente

named.conf -> es el primer fichero que lee. Este fichero incluye:

    -named.conf.options -> define la cache de nuestro DNS. Por lo general son los servidores DNS de nuestro ISP, Google ..etc

    -named.conf.local -> define las zonas de busqueda directa e inversa. Las nuevas zonas tambien se definen.

    -named.conf.zones -> define las zonas por defecto.

Opciones que posee fichero de zona directa
------
STTL (Time to Live) -> indica la duracion en segundos que se conservaran los datos en cache
Nombre_zona -> Deben acabar en punto, de lo contrario dará error.
IN -> Opcion obsoleta. Es la clase de Internet.
SOA (Start of Authority) ->  Indica que el servidor actual es propietario y legitimo de la zona.
Serial -> Numero de serie del archivo. Se usa cuando la zona se replica a otros servidores
Refresh -> El intervalo con el que se comprueba la validez. Se usa cuando la zona se replica a un servidor esclavo. Las modificaciones solo se realizan en el maestro.
Retry -> Indica el timepo que pasa hasta que contacta el servidor esclavo con el maestro.
Expire -> Indica cuantos segundos como maximo retendrá los registros antes de expirarlos.
Negative -> Indica cuanto tiempo debe consevar en la cache la respuesta negativa
NS -> Indica cual es el servidor de nombres de esa zona

Comandos comprobacion DNS funciona
------
nslookup -> Consulta zona directa e inversa.

dig -> Lo mismo pero le tiene que poner la IP o el nombre de dominio y realizar consultas de zona directa o inversa. Se usa para gestion de redes

Funciones basicas de un directorio
------
-Buscar informacion
-Gestionar informacion
-Control de seguridad
    -Creacion
    -Distribucion
    -Destruccion
    -Ubicacion

Cada directorio tiene un nivel de acceso.

1.6 Servicio de directorio
------
Directorio -> Base de datos preparada para navegar,leer y buscar informacion. A un nombre le corresponden unos datos. Funciones básicas:
    -Buscar informacion
    -Gestionar informacion (Agregar,editar o borrar campos)
    -Control de seguridad (Control de acceso de los usuarios)
        -Creacion
        -Distribucion
        -Destruccion
        -Ubicacion

1.7 Organizacion de LDAP
------
Los directorios pueden ser:

Centralizados: Se canalizan en 1 unico servidor.
    -Ventaja: No necesita sincronizarse
    -Desventaja: Si cae se pierde todo
Distribuido: Esta dividida en varios servidores.
    -Informacion fraccionada
    -Informacion replicada

LDAP (Lightweight Directory Access Protocol) -> Surge como alternativa a DAP. Funciones LDAP:
    -Usa TCP/IP en lugar de OSI
    -Informacion mediante cadenas de caracteres en lugar de ASN.1
    -Es mas simple que X.500 
    
**X.500 -> Conjunto de estandares, un protocolo de la capa de Aplicación.
**Estructura ASN.1 -> Norma para representar datos. Nivel presentacion capa OSI.

Caracterísiticas LDAP:
    -Multiplataforma
    -Licencia libre
    -Basado en estandar X.500
    -Estructura arbol (DIT)
    -Soporta IPv3, LDAPv3 y esquema distribuido 
    -UTF8
    -Integracion con otras apps en Linux
    -Mecanismos de busqueda avanzados

Puntos de vista LDAP:
    -Modelo informacion: Da forma a la estructura de informacion almacenada en LDAP 
    -Modelo referencia: Primero se organizan las entradas y posteriormente se indica como acceder a las mismas

1.8 Archivos basicos de configuracion y uso 
------

LDIF -> Formato de intercambio de datos. Es una extension de archivo usada para almacenar datos del directorio LDAP. En resumen, es un archivo con extension ldif, y el LDAP lo reconoce.

Sintaxis LDIF
------
Ejemplo sintaxis:
    dn: dc=example,dc=com -> Direccion donde encontrarlo
    ou=Users -> Grupo
    ou=Computers -> Grupo
    ou=Groups -> Grupo

RFC -> Documento donde se encuentran normas. Sobre las 8500 normas.